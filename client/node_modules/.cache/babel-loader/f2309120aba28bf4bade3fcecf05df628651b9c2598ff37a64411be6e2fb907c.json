{"ast":null,"code":"import { all, call, put, takeLatest } from 'redux-saga/effects';\nimport userActionTypes from './userActionTypes';\nimport { editUserDetails, fetchCurrentUser, loginUser, registerUser } from '../../httpRequests';\nfunction signIn(_ref) {\n  let {\n    payload\n  } = _ref;\n  return function* () {\n    console.log(payload);\n    const response = yield loginUser(payload);\n    if (response.status === 'ok') {\n      yield put({\n        type: userActionTypes.SIGN_IN_SUCCESS,\n        payload: response.data\n      });\n    } else {\n      yield put({\n        type: userActionTypes.FAILURE\n      });\n    }\n  }();\n}\nfunction signUp(_ref2) {\n  let {\n    payload\n  } = _ref2;\n  return function* () {\n    const response = yield registerUser(payload);\n    if (response.status === 'ok') {\n      yield put({\n        type: userActionTypes.SIGN_UP_SUCCESS,\n        payload: response.data\n      });\n    } else {\n      yield put({\n        type: userActionTypes.FAILURE\n      });\n    }\n  }();\n}\nfunction editDetails(_ref3) {\n  let {\n    payload\n  } = _ref3;\n  return function* () {\n    const response = yield editUserDetails(payload.data, payload.token);\n    if (response.status === 'ok') {\n      yield put({\n        type: userActionTypes.EDIT_DETAILS_SUCCESS,\n        payload: response.data\n      });\n    } else {\n      yield put({\n        type: userActionTypes.EDIT_DETAILS_FAILURE\n      });\n    }\n  }();\n}\nfunction fetchUser(_ref4) {\n  let {\n    payload\n  } = _ref4;\n  return function* () {\n    const response = yield fetchCurrentUser(payload.token);\n    if (response.status === 'ok') {\n      yield put({\n        type: userActionTypes.EDIT_DETAILS_SUCCESS,\n        payload: response.data\n      });\n    } else {\n      yield put({\n        type: userActionTypes.EDIT_DETAILS_FAILURE\n      });\n    }\n  }();\n}\nexport function* signInWithEmail() {\n  yield takeLatest(userActionTypes.SIGN_IN_START, signIn);\n}\nexport function* signUpWithEmail() {\n  yield takeLatest(userActionTypes.SIGN_UP_START, signUp);\n}\nexport function* editDetailsStart() {\n  yield takeLatest(userActionTypes.EDIT_DETAILS_START, editDetails);\n}\nexport function* getUser() {\n  yield takeLatest(userActionTypes.FETCH_USER, fetchUser);\n}\nexport default function* userSaga() {\n  yield all([call(signInWithEmail), call(signUpWithEmail), call(editDetailsStart), call(getUser)]);\n}","map":{"version":3,"names":["all","call","put","takeLatest","userActionTypes","editUserDetails","fetchCurrentUser","loginUser","registerUser","signIn","_ref","payload","console","log","response","status","type","SIGN_IN_SUCCESS","data","FAILURE","signUp","_ref2","SIGN_UP_SUCCESS","editDetails","_ref3","token","EDIT_DETAILS_SUCCESS","EDIT_DETAILS_FAILURE","fetchUser","_ref4","signInWithEmail","SIGN_IN_START","signUpWithEmail","SIGN_UP_START","editDetailsStart","EDIT_DETAILS_START","getUser","FETCH_USER","userSaga"],"sources":["C:/Users/Prashanth/Desktop/placement-management-system/client/src/redux/user/userSaga.js"],"sourcesContent":["import { all, call, put, takeLatest } from 'redux-saga/effects';\nimport userActionTypes from './userActionTypes';\nimport { editUserDetails, fetchCurrentUser, loginUser, registerUser } from '../../httpRequests';\n\n\nfunction* signIn({ payload }) {\n    console.log(payload);\n    const response = yield loginUser(payload);\n    if (response.status === 'ok') {\n        yield put({ type: userActionTypes.SIGN_IN_SUCCESS, payload: response.data });\n    }\n    else {\n        yield put({ type: userActionTypes.FAILURE });\n    }\n}\n\nfunction* signUp({ payload }) {\n    const response = yield registerUser(payload);\n    if (response.status === 'ok') {\n        yield put({ type: userActionTypes.SIGN_UP_SUCCESS, payload: response.data });\n    }\n    else {\n        yield put({ type: userActionTypes.FAILURE });\n    }\n}\n\nfunction* editDetails({payload}){\n    const response = yield editUserDetails(payload.data,payload.token);\n    if (response.status === 'ok') {\n        yield put({ type: userActionTypes.EDIT_DETAILS_SUCCESS, payload: response.data });\n    }\n    else {\n        yield put({ type: userActionTypes.EDIT_DETAILS_FAILURE });\n    }\n}\n\nfunction* fetchUser({payload}){\n    const response = yield fetchCurrentUser(payload.token);\n    if (response.status === 'ok') {\n        yield put({ type: userActionTypes.EDIT_DETAILS_SUCCESS, payload: response.data });\n    }\n    else {\n        yield put({ type: userActionTypes.EDIT_DETAILS_FAILURE });\n    }\n}\n\nexport function* signInWithEmail() {\n    yield takeLatest(userActionTypes.SIGN_IN_START, signIn);\n}\n\nexport function* signUpWithEmail() {\n    yield takeLatest(userActionTypes.SIGN_UP_START, signUp);\n}\n\nexport function* editDetailsStart(){\n    yield takeLatest(userActionTypes.EDIT_DETAILS_START,editDetails);\n}\n\nexport function* getUser(){\n    yield takeLatest(userActionTypes.FETCH_USER,fetchUser)\n}\n\nexport default function* userSaga() {\n    yield all([\n        call(signInWithEmail),\n        call(signUpWithEmail),\n        call(editDetailsStart),\n        call(getUser)\n    ]);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}